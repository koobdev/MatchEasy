<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="/include/head.html">
    <title>TITLE</title>
</head>
<body>
<div th:include="/include/header.html"></div>

<div class="uk-container-small uk-align-center">
    <div class="uk-margin-bottom">
        <span class="uk-margin-small-right" uk-icon="icon: chevron-left; ratio: 3" onclick="backPage()" style="cursor:pointer;"></span>
    </div>
    <div class="uk-card uk-card-default">
        <div class="uk-card-header uk-text-center">
            <p class="uk-text-2_5 uk-text-bold uk-margin-large-bottom">지원자 관리 페이지</p>
            <div class="uk-margin-large-top" data-uk-grid="true">
                <div class="uk-text-left">
                    <span class="uk-margin-small-right" uk-icon="icon: happy; ratio: 1.5"></span>
                    <span class="uk-text-1_2 uk-text-bold " >지원자의 요청을 관리하고 팀을 생성할 수 있습니다.</span>
                </div>
            </div>
        </div>
        <div class="uk-card-body">
            <table class="uk-table uk-table-hover uk-table-divider uk-table-responsive uk-table-middle">
                <thead class="uk-text-0_9">
                    <th class="uk-width-small">모집 포지션</th>
                    <th class="uk-width-large">설명(간단한 역할 등)</th>
                    <th class="uk-width-small">지원하기</th>
                    <th class="uk-width-large">지원자 설명</th>
                </thead>
                <tbody class="uk-text-0_8" id="positionList">
                    <tr>
                        <td>aaaaa</td>
                        <td>bbbbb</td>
                        <td>ccccc</td>
                        <td>ddddd</td>
                    </tr>
                    <tr>
                        <td>aaaaa</td>
                        <td>bbbbb</td>
                        <td>ccccc</td>
                        <td>ddddd</td>
                    </tr>
                    <tr>
                        <td>aaaaa</td>
                        <td>bbbbb</td>
                        <td>ccccc</td>
                        <td>ddddd</td>
                    </tr>
                    <tr>
                        <td>aaaaa</td>
                        <td>bbbbb</td>
                        <td>ccccc</td>
                        <td>ddddd</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="uk-card-footer">

        </div>
    </div>
</div>
</body>

<script type="text/javascript">

    function loadContentDetail() {
        let accessToken = storage.get("accessToken");
        let detail = storage.get("contentDetail");
        let url = "http://localhost:8080/board/" + detail;
        let xhr = new XMLHttpRequest();
        xhr.open('GET', url);
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);
        xhr.responseType = 'json';
        xhr.send();

        xhr.onreadystatechange = function () {
            if(xhr.readyState == 4 && xhr.status == 200) {
                let data = xhr.response;
                console.log(data);
                appendDetail(data);
                connectSock(data);
            }
        };
    }

    function backPage(){
        window.location.href = "/form/contentList";
    }

</script>
</html>


